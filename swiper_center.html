<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title> new document </title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="description" content="대한민국 NO.1 T커머스 K쇼핑, TV홈쇼핑, 모바일K쇼핑 앱, 베스트100, 다양한 카테고리, 프로모션, 할인 정보 등 안내." />
	<meta name="keywords" content="K 쇼핑" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<meta name="format-detection" content="telephone=no" /> <!-- 병헌 : 사파리에서 전화번호 자동 표기 방지 -->

	<link rel="stylesheet" type="text/css" class="comcss" href="https://static.kshop.co.kr/mc/css/common.css"/>
	<link rel="stylesheet" type="text/css" class="comcss" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/css/swiper.min.css"/>
	
	<script type="text/javascript" src="https://static.kshop.co.kr/ec/js/jquery-1.12.0.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/js/swiper.min.js"></script>
	




 </head>
 <style>

*{margin:0;padding:0;}
ul,li{list-style:none;}
a {text-decoration:none; color:#666}

.red {background:red; color:#fff; text-align:center;}
.blue {background:blue; color:#fff; text-align:center;}
.green {background:green; color:#fff; text-align:center;}
.orange {background:orange; color:#fff; text-align:center;}
.skyblue {background:skyblue; color:#fff; text-align:center;}
.pink {background:pink; color:#fff; text-align:center;}
.purple {background:purple; color:#fff; text-align:center;}
.black {background:black; color:#fff; text-align:center;}
.crimson {background:crimson; color:#fff; text-align:center;}
.grey {background:grey; color:#fff; text-align:center;}
.palevioletred {background:palevioletred; color:#fff; text-align:center;}
.chocolate {background:chocolate; color:#fff; text-align:center;}
.coral {background:coral; color:#fff; text-align:center;}


.swiper-slide >div {height:100px;}
.swiper-slide >div:before {display:inline-block; content:""; width:0; height:100%; vertical-align:middle;}
.swiper-slide >div >span {display:inline-block; vertical-align:middle;}

/* scroller bar  */
.scroll-wrap .nav {
	border-bottom: 0;
	margin: 0 0px 20px;
	background: #303030;
	display: flex;
	overflow-x: scroll;
	overflow-y: hidden;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
	flex-wrap: nowrap !important;
}
.scroll-wrap .nav::-webkit-scrollbar {
	display: none;
}
.scroll-wrap .nav li {
	width: auto;
	white-space: nowrap;
	flex: 1;
}
.scroll-wrap .nav li a {
	padding: 20px;
	display: block;
	border: 0;
	border-radius: 0;
	cursor: pointer;
	margin: 0;
	color: #fff;
	text-transform: uppercase;
}
.scroll-wrap .nav li a:hover {
	background: #ddd;
	color: #303030;
}
.scroll-wrap .nav li.active a {
	background: #fff;
	color: #3D5A68;
}

</style>
<body>

	<nav id="mainNavi">
		<div class="scroll-wrap">
			<ul class="nav" role="tablist">
				<li class="active">
					<a href="#">Home_Default</a>
				</li>
				<li>
					<a href="#">Profile</a>
				</li>
				<li>
					<a href="#">Messages</a>
				</li>
				<li>
					<a href="#">Settings</a>
				</li>
				<li>
					<a href="#">About</a>
				</li>
				<li>
					<a href="#">For You</a>
				</li>
				<li>
					<a href="#">Profile</a>
				</li>
				<li>
					<a href="#">Messages</a>
				</li>
				<li>
					<a href="#">Settings</a>
				</li>
				<li>
					<a href="#">For You</a>
				</li>
			</ul>
		</div>
	</nav>   
	<div id="mainCont" class="swiper-container">
		<div id="" class="swiper-wrapper">
			<div class="swiper-slide">
				<div class="orange"><span>orange</span></div>
				<div class="skyblue"><span>skyblue</span></div>
				<div class="purple"><span>purple</span></div>
				<div class="black"><span>black</span></div>

			</div>
			<div class="swiper-slide">
				<div class="black"><span>black</span></div>
				<div class="crimson"><span>crimson</span></div>
				<div class="grey"><span>grey</span></div>
			</div>
			<div class="swiper-slide">
				<div class="orange"><span>orange</span></div>
				<div class="skyblue"><span>skyblue</span></div>
				<div class="pink"><span>pink</span></div>
				<div class="purple"><span>purple</span></div>
			</div>
			<div class="swiper-slide">
				<div class="orange"><span>orange</span></div>
				<div class="skyblue"><span>skyblue</span></div>
				<div class="pink"><span>pink</span></div>
				<div class="chocolate"><span>chocolate</span></div>
				<div class="coral"><span>coral</span></div>
			</div>
			<div class="swiper-slide">
				<div class="orange"><span>orange</span></div>
				<div class="skyblue"><span>skyblue</span></div>
				<div class="pink"><span>pink</span></div>
				<div class="purple"><span>purple</span></div>
			</div>
			<div class="swiper-slide">
				<div class="orange"><span>orange</span></div>
				<div class="pink"><span>pink</span></div>
				<div class="purple"><span>purple</span></div>
				<div class="black"><span>black</span></div>
				<div class="crimson"><span>crimson</span></div>
			</div>
			<div class="swiper-slide">
				<div class="orange"><span>orange</span></div>
				<div class="skyblue"><span>skyblue</span></div>
				<div class="purple"><span>purple</span></div>
				<div class="black"><span>black</span></div>
				<div class="crimson"><span>crimson</span></div>
				<div class="grey"><span>grey</span></div>
				<div class="palevioletred"><span>palevioletred</span></div>
				<div class="chocolate"><span>chocolate</span></div>
				<div class="coral"><span>coral</span></div>
			</div>
			<div class="swiper-slide">
				<div class="orange"><span>orange</span></div>
				<div class="skyblue"><span>skyblue</span></div>
				<div class="pink"><span>pink</span></div>
				<div class="crimson"><span>crimson</span></div>
				<div class="grey"><span>grey</span></div>
				<div class="palevioletred"><span>palevioletred</span></div>
				<div class="chocolate"><span>chocolate</span></div>
				<div class="coral"><span>coral</span></div>
			</div>
			<div class="swiper-slide">
				<div class="pink"><span>pink</span></div>
				<div class="purple"><span>purple</span></div>
				<div class="black"><span>black</span></div>
				<div class="crimson"><span>crimson</span></div>
				<div class="grey"><span>grey</span></div>
				<div class="palevioletred"><span>palevioletred</span></div>
				<div class="chocolate"><span>chocolate</span></div>
				<div class="coral"><span>coral</span></div>
			</div>
			<div class="swiper-slide">
				<div class="orange"><span>orange</span></div>
				<div class="skyblue"><span>skyblue</span></div>
				<div class="pink"><span>pink</span></div>
				<div class="purple"><span>purple</span></div>
				<div class="black"><span>black</span></div>
				<div class="crimson"><span>crimson</span></div>
				<div class="grey"><span>grey</span></div>
			</div>
		</div>
	</div>
	
<script>


	//메인스와이퍼
	var mainSwiper = {
		swiper : null, //이벤트리스터 this 선언을 위함
		init : function(){
			var swiperWeb = new Swiper('#mainCont.swiper-container', {
				initialSlide : 0, //Index number of initial slide.
				direction: "horizontal", //Could be 'horizontal' or 'vertical'
				autoHeight: true,
				loop: true,
				touchAngle: 30, //Allowable angle in degrees to trigger touch move
				threshold: 20, //Threshold value in px. If "touch distance" will be lower than this value then swiper will not move
				touchMoveStopPropagation: true, //If enabled, then propagation of "touchmove" will be stopped
				//slidesPerView: 1,
				//spaceBetween: 40,
				on: {
					init: function(){
						mainSwiper.afterSlide();
					},
					slideChangeTransitionEnd: function(){
						mainSwiper.afterSlide();
					}
				}
			});
			mainSwiper.swiper = swiperWeb; //이벤트리스너 안에 this 처리를 위해

			//event
			$("#mainNavi ul.nav li").on("click", function(e){
				console.log(this)
				e.preventDefault();
				if( $(this).hasClass("active") ) return false;
				var index = $(this).index();
				console.log(index);
				$("#mainNavi ul.nav li").removeClass("active").children("a").attr("aria-selected","false");
				$("#mainNavi ul.nav li:eq("+ index +")").children("a").attr("aria-selected","true");
				mainSwiper.swiper.slideTo(index+1,0); //slideTo(index,speed,callback)
				// return false; //e.preventDefault() + e.stopPropagation();
				// //실행후 return false 넣을것 (실행 전에 있을경우 실행자체가 안됨)
			})
		},
		afterSlide : function(){
			var index = $(".swiper-slide-active").attr("data-swiper-slide-index");
			$(".scroll-wrap ul.nav li").removeClass("active").children("a").attr("aria-selected","false");
			$("#mainNavi ul.nav li:eq("+ index +")").addClass("active").children("a").attr("aria-selected","true");
			console.log('index=='+index);
			mainSwiper.scrollAlign();

		},
		scrollAlign : function(){
			var scrollMenuOn = $(".scroll-wrap ul.nav li.active"),
				scroller = $(".scroll-wrap ul.nav");
			scroller.animate({
				scrollLeft : scrollMenuOn.offset().left + scroller.scrollLeft() + scrollMenuOn.width()/2 - scroller.width()/2 
			}, 300);

			console.log('scrollMenuOn.offset().left=='+scrollMenuOn.offset().left)
			console.log('scroller.scrollLeft()=='+scroller.scrollLeft())
			console.log('scrollMenuOn.width()/2=='+scrollMenuOn.width()/2)
			console.log('scroller.width()/2=='+scroller.width()/2)

		},
		parentFuncName : {
			childFuncName1 : function(){
				//다른곳에서 사용시
				//mainSwiper.parentFuncName.childFuncName1()
			},
			childFuncName2 : function(idx){
				//다른곳에서 사용시
				//mainSwiper.parentFuncName.childFuncName2(idx)
				//return idx;
			}
		}
	}


	$(function(){
		mainSwiper.init()
	})


</script>
</body>

</html>